{"version":3,"sources":["connector.js","abi.js","lotteryContractClient.js","LotteryList.jsx","LotteryCreator.jsx","App.js","index.js"],"names":["injectedProvider","InjectedConnector","supportedChainIds","abi","LotteryContractClient","account","this","web3","Web3","window","ethereum","contract","eth","Contract","a","methods","getLotteries","call","lotteries","parsedLotteries","forEach","lottery","push","id","name","size","Number","ticketHolderCount","ticketPrice","owner","ownerCommission","completed","winner","lotteryId","value","buyTicket","send","from","price","commission","createLottery","utils","toWei","toString","Item","styled","div","ItemList","LotteryItem","title","Lottery","active","handleBuyTicket","console","log","fromWei","onClick","LotteryList","map","Title","LotteryCreator","handleCreateLottery","setSubmitting","initialValues","onSubmit","values","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","type","onChange","onBlur","disabled","getLibrary","provider","App","useWeb3React","activate","useState","setLotteries","connect","useMemo","useCallback","useEffect","fetchLotteries","events","NewLottery","on","e","NewTicketPurchase","NewWinner","unsubscribe","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd0570e8.chunk.js","sourcesContent":["import { InjectedConnector } from '@web3-react/injected-connector';\n\nexport const injectedProvider = new InjectedConnector({ supportedChainIds: [4] });","export const abi = [\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"name\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewLottery\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewTicketPurchase\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"winner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewWinner\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"_getTotalPrize\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"buyTicket\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"_name\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_size\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_ticketPrice\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_ownerCommission\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"createLottery\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"getBalance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"getLotteries\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"components\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"id\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"name\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"size\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ticketPrice\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ticketHolderCount\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\t\t\"name\": \"completed\",\n\t\t\t\t\t\t\"type\": \"bool\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"address payable\",\n\t\t\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\t\t\"type\": \"address\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ownerCommission\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\t\t\"name\": \"winner\",\n\t\t\t\t\t\t\"type\": \"address\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"internalType\": \"struct LotteryFactory.Lottery[]\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"tuple[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_id\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getLottery\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"components\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"id\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"name\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"size\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ticketPrice\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ticketHolderCount\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\t\t\"name\": \"completed\",\n\t\t\t\t\t\t\"type\": \"bool\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"address payable\",\n\t\t\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\t\t\"type\": \"address\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\t\t\"name\": \"ownerCommission\",\n\t\t\t\t\t\t\"type\": \"uint256\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\t\t\"name\": \"winner\",\n\t\t\t\t\t\t\"type\": \"address\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"internalType\": \"struct LotteryFactory.Lottery\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"tuple\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"_lotteryId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getTicketHolders\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address payable[]\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"randomResult\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"requestId\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"randomness\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"rawFulfillRandomness\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t}\n]\n\n","import Web3 from 'web3';\nimport {abi} from './abi.js';\n\nexport class LotteryContractClient {\n  constructor (account){\n    this.web3 = new Web3(window.ethereum)\n    this.contract = new this.web3.eth.Contract(abi, '0x4F09a37dd7F93EaE7794CBd17b55c0101D1bF5eb') \n    this.account = account;\n  }\n\n  async getLotteries() {\n    const lotteries = await this.contract.methods.getLotteries().call();\n    const parsedLotteries = [];\n    lotteries.forEach(lottery => {\n      parsedLotteries.push({\n        id: lottery.id,\n        name: lottery.name,\n        size: Number(lottery.size),\n        ticketHolderCount: Number(lottery.ticketHolderCount),\n        ticketPrice: Number(lottery.ticketPrice),\n        owner: lottery.owner,\n        ownerCommission: lottery.ownerCommission,\n        completed: lottery.completed,\n        winner: lottery.winner,\n      })\n    });\n    return parsedLotteries;\n  }\n\n  async buyTicket(lotteryId, value) {\n    await this.contract.methods.buyTicket(lotteryId).send({ from: this.account, value: value });\n  }\n\n  async createLottery(name, size, price, commission) {\n    await this.contract.methods.createLottery(name, size, Web3.utils.toWei(price.toString(), 'ether'), commission).send({from: this.account });\n  }\n}","import React from 'react';\nimport styled from 'styled-components';\nimport Web3 from 'web3';\n\n\nconst Item = styled.div`\n  padding: 5px;\n  padding-bottom: 10px;\n`;\n\nconst ItemList = styled.div`\n  display: flex;\n  flex-direction: row;\n`\n\nconst LotteryItem = ({title, value}) => {\n  return (<Item><b>{title}</b>: {value}</Item>)\n}\n\nconst Lottery = ({ lottery, active, contract }) => {\n\n  const handleBuyTicket = async() => {\n    try {\n      await contract.buyTicket(lottery.id, lottery.ticketPrice);\n    } catch(e) {\n      console.log(e);\n    }\n  }\n  \n  const { name, size, ticketPrice, ticketHolderCount, ownerCommission, completed, winner } = lottery;\n  return (\n    <ItemList>\n      <LotteryItem title={'Name'} value={name} />\n      <LotteryItem title={'Size'} value={`${ticketHolderCount}/${size}`} />\n      <LotteryItem title={'Price (Ether)'} value={Web3.utils.fromWei(ticketPrice.toString(), \"ether\")} />\n      <LotteryItem title={'Owner Commission (%)'} value={ownerCommission} />\n      <LotteryItem title={'Completed'} value={completed.toString()} />\n      {completed && (<LotteryItem title={'Winner'} value={winner} />)}\n      {active && !completed ? <button onClick={handleBuyTicket}>buy ticket</button> : null}\n    </ItemList>\n  )\n}\n\nexport const LotteryList = ({lotteries, active, contract}) => {\n  return (\n    <div>\n      <h2>Lottery List</h2>\n      {lotteries.map(lottery => <Lottery key={lottery.id} lottery={lottery} active={active} contract={contract}/>)}\n    </div>\n  )\n}","import React from 'react';\nimport { Formik } from 'formik';\nimport styled from 'styled-components';\n\nconst Item = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 5px;\n  padding-bottom: 10px;\n`\n\nconst Title = styled.div`\n  width: 100px;\n`\n\nexport const LotteryCreator = ({contract}) => {\n  const handleCreateLottery = async ({name, size, price, ownerCommission}, {setSubmitting}) => {\n    try {\n      await contract.createLottery(name, size, price, ownerCommission);\n    } catch (e) {\n      console.log(e);\n    }\n    setSubmitting(false)\n  }\n  return (\n    <div>\n      <h2>Create New Lottery</h2>\n      <Formik \n        initialValues={{name: '', size: 2, price: 0.5, ownerCommission: 1}}\n        onSubmit={handleCreateLottery}\n      >\n      {({ values, errors, touched, handleChange, handleBlur, handleSubmit, isSubmitting }) => (\n        <form onSubmit={handleSubmit}>\n          <Item>\n            <Title>Name:</Title>\n            <input \n              type=\"text\"\n              name=\"name\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.name}\n            /> \n            {errors.name && touched.name && errors.name}\n          </Item>\n          <Item>\n            <Title>Size:</Title>\n            <input \n              type=\"number\"\n              name=\"size\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.size}\n            /> \n            {errors.size && touched.size && errors.size}\n          </Item>\n          <Item>\n            <Title>Price (Ether):</Title>\n            <input \n              type=\"number\"\n              name=\"price\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.price}\n            /> \n            {errors.price && touched.price && errors.price}\n          </Item>\n          <Item>\n            <Title>Commission:</Title>\n            <input \n              type=\"number\"\n              name=\"ownerCommission\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.ownerCommission}\n            /> \n            {errors.ownerCommission && touched.ownerCommission && errors.ownerCommission}\n          </Item>\n          <button type=\"submit\" disabled={isSubmitting}>Submit</button>\n        </form>\n      )\n      }\n      </Formik>\n    </div>\n  )\n}","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useWeb3React, Web3ReactProvider } from '@web3-react/core'\nimport Web3 from 'web3';\nimport {injectedProvider} from './connector';\nimport { LotteryContractClient } from './lotteryContractClient';\nimport { LotteryList } from './LotteryList';\nimport { LotteryCreator } from './LotteryCreator';\n\nfunction getLibrary(provider) {\n  return new Web3(provider);\n}\n\nconst App = () => {\n  const { active, account, activate } = useWeb3React()\n  const [lotteries, setLotteries] = useState([]);\n  const connect = async () => {\n    try {\n      await activate(injectedProvider);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const contract = useMemo(() => {\n    return new LotteryContractClient(account);\n  }, [account])\n\n  const getLotteries = useCallback(async() => {\n    if (active) {\n      const lotteries = await contract.getLotteries();\n      setLotteries(lotteries);\n    }\n  }, [contract, active])\n\n  useEffect(() => {\n    const fetchLotteries = async() => {\n      await getLotteries();\n    }\n    fetchLotteries();\n  }, [getLotteries, active]);\n\n  useEffect(() => {\n    const fetchLotteries = async() => {\n      await getLotteries();\n    }\n\n    if (active) {\n      contract.contract.events.NewLottery().on(\"data\", (e) => {\n        fetchLotteries()\n      })\n      contract.contract.events.NewTicketPurchase().on(\"data\", (e) => {\n        fetchLotteries()\n      })\n      contract.contract.events.NewWinner().on(\"data\", (e) => {\n        fetchLotteries()\n      })\n    }\n\n    return () => {\n      contract.contract.events.NewLottery().unsubscribe()\n      contract.contract.events.NewTicketPurchase().unsubscribe()\n      contract.contract.events.NewWinner().unsubscribe()\n    }\n  }, [account, active, contract, getLotteries])\n  \n  return (\n    <div>\n      <button onClick={connect} >Connect to Rinkeby</button>\n      {\" \"}\n      {active ? <span>Connected with: <b>{account}</b></span> : <span>Not connected</span>}\n      <LotteryList active={active} lotteries={lotteries} contract={contract}/>\n      {active ? <LotteryCreator contract={contract}/> : null}\n    </div>\n  );\n}\n\nexport default function () {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <App />\n    </Web3ReactProvider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}